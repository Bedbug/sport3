<div class="modal-background" *ngIf="!Authenticated && Onboarding"></div>

<!-- ON-BOARDING -->
<div *ngIf="Onboarding">
  <div class="modal-card">
    <div class="modal-card-body text-center">
      <div class="slideshow-container"
        uk-slideshow="animation: swipe; autoplay: false; autoplay-interval: 1000; pause-on-hover: false; draggable: true; finite:true;"
        style="height: 100%; margin: 7px;">
        <div class="uk-position-relative" style="height: inherit;">
          <ul class="uk-slideshow-items" style="height: inherit;">
            <li *ngFor="let slide of defaults.slides; let i = index"> style="text-align: center;">
              <div
                style="width:100%; height:100%; background: url(assets/images/sportimo/onboard/1b.jpg);background-repeat: no-repeat;background-size: contain;background-position: center;"
                [ngStyle]="{'background-image': 'url(assets/images/sportimo/onboard/' + (slide?.image || 'assets/images/sportimo/onboard/1b.jpg') + ')'}">
              </div>
              <div class="slideText">
                <h3 style="font-weight: bold;font-size: 25px;"> {{slide.title[translate.currentLang]}}</h3>
                <h4 style="font-size: 20px;">{{slide.text[translate.currentLang]}}</h4>
                <button *ngIf="i < defaults.slides.length-1" [disabled]="loading" type="submit" class="btn btn-slide">
                  <a href="#" uk-slideshow-item="next"><img src="assets/images/sportimo/onboard/next.svg" alt=""></a>
                </button>
                <button *ngIf="i == defaults.slides.length-1" [disabled]="loading" type="submit" class="btn btn-slide">
                  <a (click)="closeOnBoarding()"><img src="assets/images/sportimo/onboard/close.svg" alt=""></a>
                </button>
              </div>
            </li>
          </ul>
          <!-- NAVIGATION -->
          <ul class="uk-slideshow-nav uk-dotnav uk-flex-center " style="margin-top: 19px;"></ul>
          <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous
            uk-slideshow-item="previous"></a>
          <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next
            uk-slideshow-item="next"></a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="landing-background" [hidden]="!LandingPage"></div>
<!-- AUTHENTICATION -->
<div *ngIf="LandingPage">
  <div class="modal-card">
    <div class="landing-card">
      <div class="text-center text-white">

        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators" *ngIf="defaults.landingPage.slidesShow.length>1">
            <li *ngIf="defaults.landingPage.slidesShow[0]" data-target="#carouselExampleIndicators" data-slide-to="0"
              class="active"></li>
            <li *ngIf="defaults.landingPage.slidesShow[1]" data-target="#carouselExampleIndicators" data-slide-to="1">
            </li>
            <li *ngIf="defaults.landingPage.slidesShow[2]" data-target="#carouselExampleIndicators" data-slide-to="2">
            </li>
          </ol>
          <div class="carousel-inner">
            <div *ngFor="let slide of defaults.landingPage.slidesShow; let i = index" class="carousel-item active"
              [class.active]="i==0">
              <div class="slide-prize-header text-center" [innerHTML]="slide.header[translate.currentLang]"></div>
              <img class="d-block w-100" [src]="slide.image" alt="First slide">
              <div class="slide-prize-text">
                <div [innerHTML]="slide.prizeText[translate.currentLang]"></div>
              </div>
            </div>
          </div>
          <a *ngIf="defaults.landingPage.slidesShow.length>1" class="carousel-control-prev"
            href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a *ngIf="defaults.landingPage.slidesShow.length>1" class="carousel-control-next"
            href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
        <form [formGroup]="msisdnForm" (ngSubmit)="onMSISDNSubmit()" class="sportimo-form">
        <div class="input-box">
          <div class="input-area">+971</div>
          <input type="text" formControlName="msisdn" class="form-control-plaintext text-left" autocorrect="off"
            autocapitalize="none" [ngClass]="{ 'is-invalid': submitted && f.password.errors }"
            placeholder="{{ 'enterMobilePhone' | translate }}" required>
        </div>
        <button [disabled]="isSubmitting" type="submit"  class="btn btn-sportimo login-form-button">
          <div class="loader-label" [class.btn-active]="isSubmitting">
            <span class="button-label" translate>Play</span>
            <div class="fadeInLoader">
              <span class="rotate dotted button-loader"></span>
            </div>
          </div>
        </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- PIN VERIFICATION -->
<div id="pinForm"  *ngIf="PinVerify" class="modal-card hidden">
  <div class="modal-card-header">
    <div *ngIf = "subState == 'New'" class="modal-title" translate>Subscribe to Play</div>
    <div *ngIf = "subState == 'UnSub'" class="modal-title" translate>Subscribe to Play</div>
    <div *ngIf = "subState == 'Active'" class="modal-title" translate>Subscribe to Play</div>
    <div *ngIf = "subState == 'UnSubCoins'" class="modal-title" translate>Subscribe to Play</div>
    <div (click)="cancel()" class="modal-exit pull-right">X</div>
  </div>
  <div class="modal-card-body text-center">
    <div class="login-form-body">
      <div class="login-form-info" translate>Please insert the 4-digit PIN code sent to your mobile number</div>

      <form [formGroup]="pinForm" (ngSubmit)="onPinSubmit()" class="sportimo-form">

        <div class="login-form-content">
          <div class="form-group text-center">
            <!-- <label class="">Username/Email</label> -->
            <input type="text" formControlName="pin" maxlength="4" minlength="4" class="form-control-plaintext" autocorrect="off" autocapitalize="none"
              [ngClass]="{ 'is-invalid': submitted && pinForm.controls.pin.errors }" placeholder="{{ 'Enter PIN' | translate }}"
              required>
            <div *ngIf="submitted && pinForm.controls.pin.errors" class="invalid-feedback">
              <div *ngIf="pinForm.controls.pin.errors.required">PIN is required</div>
            </div>
            <div *ngIf="incorrectPin" class="problem-info">
              <div class="icn-info-alt"></div> <span translate>Incorrect PIN code</span>
            </div>
          </div>        
        </div>
        <div class="login-form-buttons">
          <div class="form-group">
            <!-- <button [disabled]="isSubmitting || pinForm.controls.pin.errors" type="submit" class="btn btn-sportimo login-form-button"> -->
            <button type="submit" class="btn btn-sportimo login-form-button">
              <div class="loader-label" [class.btn-active]="isSubmitting">
                <span class="button-label" translate>Submit</span>
                <div class="fadeInLoader">
                  <span class="rotate dotted button-loader"></span>
                </div>
              </div>
            </button>
          </div>
          <!-- <button [disabled]="isSubmiting" (click)="cancelAll()" class="btn btn-default">Cancel</button> -->
        </div>
        <div class="notice" style="font-size: 13px" *ngIf="incorrectPin"><a href="#">Resend PIN</a></div>
      </form>

    </div>
  </div>
</div>