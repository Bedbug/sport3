<div class="row">
  <div class="card" style="margin-bottom: 0; width: 100%">
    <div class="card-body">
      <div class="row">
        <div (click)="gotoContest()" class="col font-weight-bold text-white isClickable">
          {{prize?.titleText[translate.currentLang]||'_Name Missing'}}
          <!-- <br> {{contestDetails?.startFromDate | date:"dd/MM"}} - {{contestDetails?.endToDate | date:"dd/MM"}} -->
        </div>
        <div class="col" style="min-height:33px; line-height: 33px">
          <!-- <button (click)="joinContest()" [disabled]="joiningContest" *ngIf="!contestDetails?.isSubscribed || !isLoggedIn" class="btn btn-sportimo col-12">
            <span translate>Join</span> {{contestDetails?.subscriptionPrice}}<i class="coin"></i></button> -->
          <!-- <button (click)="joinContest()" [disabled]="joiningContest"
            *ngIf="!contestDetails?.isSubscribed || !isLoggedIn" class="btn btn-sportimo col-12">
            <div *ngIf="contestDetails?.subscriptionPrice && contestDetails?.subscriptionPrice>0"><span
                translate>Join</span> {{contestDetails?.subscriptionPrice}}<i class="coin"></i></div>
            <div *ngIf="!contestDetails?.subscriptionPrice || contestDetails?.subscriptionPrice==0"><span translate>Join
                For Free</span></div>
          </button> -->
          <div class="text-right text-white user-chances"> <span translate>Your chances:</span>
            {{prize?.participations || 0}}</div>
        </div>
      </div>
      <div class="sportimo-divider"></div>
    </div>
  </div>


  <!-- TABS -->
  <div class="main-pages-scrollarea" style="width:100%">
    <ul class="nav nav-tabs " id="myTab" role="tablist" style="margin-bottom: 0">
      <li class="nav-item">
        <a class="nav-link active" id="info-tab" data-toggle="tab" href="#info" role="tab" aria-controls="info"
          aria-selected="true">
          <div translate>Info</div>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="Prizes-tab" data-toggle="tab" href="#Prizes" role="tab" aria-controls="Prizes"
          aria-selected="false">
          <div translate>Prizes</div>
        </a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <!-- INFO TAB -->
      <div class="tab-pane fade show active" id="info" role="tabpanel" aria-labelledby="info-tab">
        <div class="card fade show m-b-0">
          <div class="card-body" style="background-repeat: no-repeat;
            background-size: cover;
            background-position: center;"
            [ngStyle]="{'background-image': 'url(' + (prize?.promoDetailImage || './assets/images/contest-bg.png') + ')'}">

            <div class="contest-image">
              <img src="{{prize?.promoImage}}" style="max-height: 200px; min-height:140px" alt="">
            </div>

          </div>
          <div class="card-body text-white formated-text">
            <div [innerHTML]="prize?.infoText[translate.currentLang]"></div>
          </div>
        </div>
      </div>
      <!-- PRIZE TAB -->
      <div class="tab-pane fade" id="Prizes" role="tabpanel" aria-labelledby="Prizes-tab">
        <div class="prizes-container container">
          <div class="prize-container" *ngFor="let eachPrize of prize?.prizes" (click)="selectedPrize = eachPrize">
            <div class="prize-header">
              <span translate>Prize</span>{{eachPrize?.position.from}}
            </div>
            <div class="prize-body">
              <div class="prize-image" style="background-repeat: no-repeat;
                background-size: cover;
                background-position: center;" [ngStyle]="{'background-image': 'url('+ eachPrize?.prize.picture +')'}">
              </div>
              <div class="prize-text">
                <div class="prize-text-title">{{eachPrize?.prize.name[translate.currentLang]}}</div>
                <div class="prize-text-body">{{strippedPrizedText(eachPrize?.prize.text[this.translate.currentLang])}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<!-- MODAL -->
<div class="modal-background" (click)="cancel()" [class.hidden]="!selectedPrize" [class.modal-appear]="selectedPrize">
  <div class="modal-card">
    <div class="modal-card-header">
      <div class="modal-title"> {{contestDetails?.titleText[translate.currentLang]}} </div>
      <div (click)="cancel()" class="modal-exit pull-right">X</div>
    </div>
    <div class="modal-card-body text-left">
      <div class="selected-prize-rank"><span translate>Prize</span>{{selectedPrize?.position.from}}</div>
      <div class="prize-image" style="background-repeat: no-repeat;
          background-size: cover;
          background-position: center;" [ngStyle]="{'background-image': 'url('+ selectedPrize?.prize.picture +')'}">
      </div>
      <div class="selected-prize-title">{{selectedPrize?.prize.name[translate.currentLang]}}</div>
      <div class="selected-prize-body formated-text" [innerHTML]="selectedPrize?.prize.text[translate.currentLang]"></div>
    </div>

  </div>
</div>