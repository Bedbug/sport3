<div class="background"></div>
<div class="" style="position: relative">
  <div class="main-pages-header" translate>Profile</div>
  <div class="main-pages-scrollarea">
    <div *ngIf="user" class="winner-card">
      <div class="winner-card-header">
        <div class="background-ring isClickable" (click)="openAvatarSelection()">
          <img class="rounded-circle" [src]="user.picture" alt="">
        </div>

        <div class="input-icon">
          <div class="icn-user"></div>
        </div>
        <div  class="input-control">
          <input [(ngModel)]="user.username" #username="ngModel" name="name" type="text" class="form-control-plaintext"
            placeholder="Username">
        </div>
        <div *ngIf="username.dirty">
          <button [disabled]="isSubmitting" style="height: 31px;" (click)="updateName(username)"
            class="btn btn-sportimo login-form-button">
            <div class="loader-label" [class.btn-active]="isSubmitting">
              <span class="button-label" translate>Update</span>
              <div class="fadeInLoader">
                <span class="rotate dotted button-loader"></span>
              </div>
            </div>
          </button>
        </div>

      </div>

      <div class="winner-card-body" *ngIf="stats && stats.user.stats">
        <div class="profile-stats">
          <div class="profile-stat-title" translate>Games Played:</div>
          <div class="profile-stat-value">{{stats?.user.stats.matchesPlayed}}</div>
          <div class="profile-stat-title" translate>Points/game:</div>
          <div class="profile-stat-value">{{stats?.pointsPerGame}}</div>
          <div class="profile-stat-title" translate>Cards Played:</div>
          <div class="profile-stat-value">{{stats?.user.stats.cardsPlayed}}</div>
          <div class="profile-stat-title" translate>Cards won:</div>
          <div class="profile-stat-value">{{stats?.user.stats.cardsWon}}</div>
        </div>
        <div style="text-align: center; color: #ffffff">
          <div class="chart-container">
            <ngx-charts-bar-vertical [view]="view" [scheme]="colorScheme" [results]="single" [gradient]="gradient"
              [xAxis]="showXAxis" [yAxis]="showYAxis" [legend]="showLegend" [showXAxisLabel]=true
              [showYAxisLabel]="showYAxisLabel" [xAxisLabel]="Hello" [yAxisLabel]="yAxisLabel" [roundEdges]=false
              (select)="onSelect($event)">
            </ngx-charts-bar-vertical>
          </div>
          <div class="chart-footer" translate>Last 5 games</div>

          <!-- <div class="col-8 prize-info">1st Prize, UEFA Champions LEgaue</div>
            <div class="col-4 prize-date text-right">28/06/2018</div> -->
        </div>
      </div>

      <!-- Overall Cards -->
      <div class="winner-card-body" *ngIf="stats && stats.user.stats">
        <div class="polarchart-header"><span translate>Overall Cards Played: </span>{{stats?.user.stats.overallCardsPlayed}} </div>
        <div class="polarchart-container">
          <canvas baseChart [options]="ChartOprions" height="180px" width="180px" [data]="OveralltChartData" [labels]="OverallChartLabels" [chartType]="doughnutChartType"
            [legend]=false [colors]="ChartColors">
          </canvas>
        </div>
        <div class="polarchart-info">
          <div class="player-info">
            <div class="player-chart-color"></div>
            <div class="player-chart-label"><div class="title" translate>You:</div><div class="text">{{this.data.overall.you}}% <span translate>correct</span></div></div>
          </div>
          <div class="player-info">
              <div class="all-chart-color"></div>
              <div class="player-chart-label"><div class="title" translate>Other Players:</div><div class="text">{{this.data.overall.all}}% <span translate>correct</span></div></div>
            </div>
        </div>
      </div>

      <!-- Instant Cards -->
      <div class="winner-card-body" *ngIf="stats && stats.user.stats">
          <div class="polarchart-header"><span translate>Instant Cards Played: </span>{{stats?.user.stats.instantCardsPlayed}} </div>
          <div class="polarchart-container">
            <canvas baseChart [options]="ChartOprions" height="180px" width="180px" [data]="InstantChartData" [labels]="OverallChartLabels" [chartType]="doughnutChartType"
              [legend]=false [colors]="ChartColors">
            </canvas>
          </div>
          <div class="polarchart-info">
            <div class="player-info">
              <div class="player-chart-color"></div>
              <div class="player-chart-label"><div class="title" translate>You:</div><div class="text">{{this.data.instant.you}}% <span translate>correct</span></div></div>
            </div>
            <div class="player-info">
                <div class="all-chart-color"></div>
                <div class="player-chart-label"><div class="title" translate>Other Players:</div><div class="text">{{this.data.instant.all}}% <span translate>correct</span></div></div>
              </div>
          </div>
        </div>
    </div>
  </div>
</div>